name_elix9
name_elix9$Elix
name_elix9
name_elix9$Elix[[1]]
name_elix9$Elix[[2]]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
View(text_elix9)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
name_elix9$Elix[[2]]
name_elix9$Elix[[1]]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
name_elix9
name_elix9$Elix[[1]]
name_elix9$Elix[[2]]
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "right")
elix_abbr
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "right")
elix_abbr
View(name_elix9)
name_elix9$Elix[number]
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full
elix_full <- str_trim(elix_full, "left")
elix_full
elix_full <- str_trim(elix_full, "both")
elix_full
icd9_elix_test <- data.frame(Comorbidity_abbr =elix_abbr, Comorbidity = elix_full, stringsAsFactors = F)
icd9_elix_test
View(icd9_elix_test)
#Add first ICD
icd9_elix_test$ICD <- name_elix9$Elix[-number]
#Only ICD
ICDLlist <- list()
text_elix9$ICD[title[1]]
text_elix9$ICD[title[2]]
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
name_elix9
text_elix9$ICD[title[2]]
title
text_elix9$ICD[title[1]:title[2]]
text_elix9$ICD[title[1]+1:title[2]]
text_elix9$ICD ==""
test <- text_elix9[text_elix9$ICD =="",]
test
text_elix9$ICD ==""
test <- text_elix9[-text_elix9$ICD =="",]
test <- text_elix9[-(text_elix9$ICD ==""),]
test
test <- text_elix9[-grep("",text_elix9$ICD),]
test
grep("",text_elix9$ICD)
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "right")
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full
elix_full <- str_trim(elix_full, "both")
elix_full
icd9_elix_test <- data.frame(Comorbidity_abbr =elix_abbr, Comorbidity = elix_full, stringsAsFactors = F)
icd9_elix_test
#Add first ICD
icd9_elix_test$ICD <- name_elix9$Elix[-number]
icd9_elix_test
########################### 2012-2015
# https://www.hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp#references
###########################
library(stringr)
library(dplyr)
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "right")
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full <- str_trim(elix_full, "both")
icd9_elix_test <- data.frame(Comorbidity_abbr =elix_abbr, Comorbidity = elix_full, stringsAsFactors = F)
#Add first ICD
icd9_elix_test$ICD <- name_elix9$Elix[-number]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr
elix_abbr <- str_trim(elix_abbr, "right")
elix_abbr
elix_abbr <- str_trim(elix_abbr, "both")
elix_abbr
name_elix9
text_elix9[title,]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
View(text_elix9)
text_elix9
text_elix9$ICD
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub(',|"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"both")
text_elix9$ICD
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"both")
text_elix9$ICD
text_elix9$ICD
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD
text_elix9$ICD <- str_trim(text_elix9$ICD,"both")
title <- grep("=",text_elix9$ICD)
title
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9
text_elix9$ICD[187]
text_elix9$ICD[185:187]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD[185:187]
title <- grep("=",text_elix9$ICD)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD[185:187]
title <- grep("=",text_elix9$ICD)
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD[185:187]
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "both")
elix_abbr
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full
elix_full
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full <- str_trim(elix_full, "both")
elix_full
icd9_elix_test <- data.frame(Comorbidity_abbr =elix_abbr, Comorbidity = elix_full, stringsAsFactors = F)
#Add first ICD
icd9_elix_test$ICD <- name_elix9$Elix[-number]
View(icd9_elix_test)
text_elix9$ICD[title[1]+1:title[2]]
text_elix9$ICD[title[1]:title[2]]
[title[1]
title[1]
text_elix9$ICD[title[1]]
text_elix9$ICD[title[2]]
title[2]
text_elix9$ICD[title[1]:title[2]]
text_elix9$ICD[title[1]+1:title[2]]
text_elix9$ICD[title[2]]
text_elix9$ICD[title[1]+1]
title[2]
text_elix9$ICD[title[1]:title[2]]
text_elix9$ICD[title[1]+1:title[2]]
text_elix9$ICD[(title[1]+1):title[2]]
text_elix9$ICD[title[1]+1]
text_elix9$ICD[title[1+1]]
title
#Only ICD
ICDLlist <- list()
for (ICD in 1:39){
if(ICD ==1){
ICDLlist[[length(ICDLlist)+1]] <- text_elix9$ICD[title[ICD]-1:(title[ICD])]
Df <- data.frame(ICD = ICDLlist[[ICD]],
Comorbidity_abbr = icd9_elix_test$Comorbidity_abbr[ICD],
Comorbidity = icd9_elix_test$Comorbidity[ICD],
stringsAsFactors = F)
icd9_elix_test <- rbind(icd9_elix_test,Df)
}else{
ICDLlist[[length(ICDLlist)+1]] <- text_elix9$ICD[(title[ICD-1]+1):title[ICD]]
Df <- data.frame(ICD = ICDLlist[[ICD]],
Comorbidity_abbr = icd9_elix_test$Comorbidity_abbr[ICD],
Comorbidity = icd9_elix_test$Comorbidity[ICD],
stringsAsFactors = F)
icd9_elix_test <- rbind(icd9_elix_test,Df)
}
}
load("~/emr/data/icd9_elix.rda")
icd9_elix_test <- icd9_elix_test[-grep("=",icd9_elix_test$ICD),]
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD[185:187]
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "both")
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full <- str_trim(elix_full, "both")
########################### 2012-2015
# https://www.hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp#references
###########################
library(stringr)
library(dplyr)
text_elix9 <- read.delim("C:/Users/makiz/Desktop/comformat2012-2015.txt", col.names = "ICD",stringsAsFactors = F)
text_elix9$ICD <- gsub('"',"",text_elix9$ICD)
text_elix9$ICD <- str_trim(text_elix9$ICD,"left")
text_elix9$ICD[185:187]
title <- grep("=",text_elix9$ICD)
name_elix9 <- data.frame(Elix = unlist(unname(strsplit(text_elix9[title,],split = "="))),stringsAsFactors = F)
name_elix9$Elix <- str_trim(name_elix9$Elix,"both")
# Comotbidity abbr
number <- c()
for(com_name in 1:nrow(name_elix9)){
if(com_name %% 2 ==0){
number[length(number)+1] <- com_name
}
}
elix_abbr <- substr(name_elix9$Elix[number],start = 1,stop=9)
elix_abbr <- str_trim(elix_abbr, "both")
# Comotbidity full description
elix_full <- c()
for (i in 1:length(elix_abbr)){
elix_full[i] <- sub(elix_abbr[i],"",name_elix9$Elix[number][i])
}
elix_full <- gsub("[/*]|[*/] ","",elix_full)
elix_full <- str_trim(elix_full, "both")
icd9_elix_test <- data.frame(Comorbidity_abbr =elix_abbr, Comorbidity = elix_full, stringsAsFactors = F)
#Add first ICD
icd9_elix_test$ICD <- name_elix9$Elix[-number]
ICDLlist <- list()
for (ICD in 1:39){
if(ICD ==1){
ICDLlist[[length(ICDLlist)+1]] <- text_elix9$ICD[title[ICD]-1:(title[ICD])]
Df <- data.frame(ICD = ICDLlist[[ICD]],
Comorbidity_abbr = icd9_elix_test$Comorbidity_abbr[ICD],
Comorbidity = icd9_elix_test$Comorbidity[ICD],
stringsAsFactors = F)
icd9_elix_test <- rbind(icd9_elix_test,Df)
}else{
ICDLlist[[length(ICDLlist)+1]] <- text_elix9$ICD[(title[ICD-1]+1):title[ICD]]
Df <- data.frame(ICD = ICDLlist[[ICD]],
Comorbidity_abbr = icd9_elix_test$Comorbidity_abbr[ICD],
Comorbidity = icd9_elix_test$Comorbidity[ICD],
stringsAsFactors = F)
icd9_elix_test <- rbind(icd9_elix_test,Df)
}
}
icd9_elix_test <- icd9_elix_test[-grep("=",icd9_elix_test$ICD),]
View(icd9_elix_test)
View(name_elix9)
View(text_elix9)
grep_elix9 <- data.frame(Elix = unlist(unname(strsplit(icd9_elix_test[grep("-",icd9_elix_test$ICD),],split = "="))),stringsAsFactors = F)
grep_elix9 <- data.frame(grepICD =icd9_elix_test[grep("-",icd9_elix_test$ICD),]),stringsAsFactors = F)
grep_elix9 <- data.frame(grepICD =icd9_elix_test[grep("-",icd9_elix_test$ICD),],stringsAsFactors = F)
View(grep_elix9)
grep_elix9$grepICD <- gsub(',',"",grep_elix9$grepICD)
grep_elix9 <- data.frame(grepICD =icd9_elix_test[grep("-",icd9_elix_test$ICD),],stringsAsFactors = F)
grep_elix9 <- icd9_elix_test[grep("-",icd9_elix_test$ICD),]
grep_elix9$ICD <- gsub(',',"",grep_elix9$ICD)
grep_elix9$Comorbidity_abbr %>% unique
unique(grep_elix9$Comorbidity_abbr)[1]
grep_elix9[unique(grep_elix9$Comorbidity_abbr)[1],]
grep_elix9[grep(unique(grep_elix9$Comorbidity_abbr)[1],grep_elix9)]
write(icd9_elix_test,file = "icd9_elix_test.csv")
write.table(icd9_elix_test,file = "icd9_elix_test.csv")
write.table(icd9_elix_test,file = "icd9_elix_test.csv",sep = ",")
write.table(icd9_elix_test,file = "icd9_elix_test.csv",sep = " ")
write.csv(icd9_elix_test,file = "icd9_elix_test.csv",sep ="," )
write.csv(icd9_elix_test,file = "icd9_elix_test.csv")
write.csv(icd9_elix_test,file = "icd9_elix_test.csv",row.names = TRUE)
write.csv(icd9_elix_test,file = "icd9_elix_test.csv",row.names = TRUE)
write.csv(icd9_elix_test,file = "icd9_elix_test.csv",row.names = F)
load("~/emr/data/ccsDxICD9.rda")
View(ccsDxICD9)
View(grep_elix9)
elix9 <- read.delim("~/icd9_elix_test.csv")
View(elix9)
elix9 <- read.csv("~/icd9_elix_test.csv")
View(elix9)
elix9$ICD <- gsub(',',"",elix9$ICD)
unique(elix9$ICD)
unique(elix9$Comorbidity_abbr)
elix9 <- read.csv("~/icd9_elix_test.csv",stringsAsFactors = F)
elix9$ICD <- gsub(',',"",elix9$ICD)
unique(elix9$Comorbidity_abbr)
unique(elix9$Comorbidity)
save(icd9_elix_test,file = "elix9.rda", compress='xz')
save(elix9,file = "icd9_elix_test.rda", compress='xz')
load("C:/Users/makiz/Documents/P-Dx/data/ccsICD9_pr.rda")
load("C:/Users/makiz/Documents/P-Dx/data/ccsICD9_pr.rda")
View(ccs_dx_icd9)
load("~/emr/data/ccsPrICD10.rda")
View(ccsPrICD10)
PrICD10_sub5 <- substr(ccsPrICD10$ICD,start = 1,stop = 5)
unique(PrICD10_sub5)
ccsPrICD10[grep(unique(PrICD10_sub5),ccsPrICD10$ICD),]
ccsPrICD10[grep(unique(PrICD10_sub5)[1],ccsPrICD10$ICD),]
ccsPrICD10[grep(unique(PrICD10_sub5)[1],ccsPrICD10$ICD),c(1,2)]
ccsPrICD10[grep(unique(PrICD10_sub5)[2],ccsPrICD10$ICD),c(1,2)]
ccsPrICD10[grep(unique(PrICD10_sub5)[23,ccsPrICD10$ICD),c(1,2)]
ccsPrICD10[grep(unique(PrICD10_sub5)[3],ccsPrICD10$ICD),c(1,2)]
ccsPrICD10[grep(unique(PrICD10_sub5)[4],ccsPrICD10$ICD),c(1,2)]
length(PrICD10_sub5)
unique(PrICD10_sub5) %>% unique
unique(PrICD10_sub5) %>% length
PrICD10_sub5 <- substr(ccsPrICD10$ICD,start = 1,stop = 5) %>% unique
for (i in 1:length(PrICD10_sub5)){
ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)]
}
for (i in 1:length(PrICD10_sub5)){
ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)]
next
}
for (i in 1:length(PrICD10_sub5)){
test <- ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)]
next
}
View(test)
for (i in 1:length(PrICD10_sub5)){
test <- ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)]
}
View(test)
test <- rind(test,ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)])
for (i in 1:length(PrICD10_sub5)){
test <- rind(test,ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)])
}
for (i in 1:length(PrICD10_sub5)){
test <- rbind(test,ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)])
}
View(test)
load("~/emr/data/icd10_elix.rda")
load("~/emr/data/icd9_elix.rda")
load("~/P-Dx/data/icd10_elix_test.rda")
load("~/P-Dx/data/icd9_elix_test.rda")
View(elix9)
View(icd10_elix_test)
save(elix9,file = "elix9.rda", compress='xz')
elix10 <- icd10_elix_test
save(elix10,file = "elix10.rda", compress='xz')
save(elix9,file = "elix9.rda", compress='xz')
load("C:/Users/makiz/Documents/P-Dx/data/elix9.rda")
load("C:/Users/makiz/Documents/P-Dx/data/elix10.rda")
View(elix9)
View(icd9_elix)
anti_elix9 <- anti_join(elix9,icd9_elix)
View(anti_elix9)
View(elix9)
anti_elix9 <- anti_join(icd9_elix,elix9)
View(anti_elix9)
anti_elix9 <- anti_join(icd9_elix,elix9,by = "ICD")
View(anti_elix9)
semi_elix9 <- semi_join(icd9_elix,elix9,by = "ICD")
anti_elix10 <- anti_join(icd10_elix,elix10,by = "ICD") # only 918 included
semi_elix10 <- semi_join(icd10_elix,elix10,by = "ICD")
names(elix9)
unique(elix9$Comorbidity_abbr)
unique(elix10$Comorbidity_abbr)
elix9 %>% arrange(Comorbidity_abbr) %>% unique
elix9$Comorbidity_abbr %>% arrange(Comorbidity_abbr) %>% unique
elix9$Comorbidity_abbr %>% order %>% unique
elix9$Comorbidity_abbr %>% unique
elix9$Comorbidity_abbr %>% unique %>% order
elix9$Comorbidity_abbr %>% unique %>% arrange
elix9$Comorbidity_abbr %>% unique %>% arrange_
elix9 <- elix9 %>% arrange(Comorbidity_abbr)
elix10 <- elix10 %>% arrange(Comorbidity_abbr)
elix9$Comorbidity_abbr %>% unique
elix10$Comorbidity_abbr  %>% unique
icd9_elix <- icd9_elix %>% arrange(Comorbidity)
icd10_elix <- icd10_elix %>% arrange(Comorbidity)
icd9_elix$Comorbidity %>% unique
icd10_elix$Comorbidity %>% unique
View(elix9)
View(elix10)
library("icd", lib.loc="~/R/win-library/3.4")
icd9_map_charlson
names(icd9_map_elix)
elix9 <- elix9 %>% arrange(ICD)
elix9$Comorbidity_abbr %>% unique
icd9_elix <- icd9_elix %>% arrange(ICD)
icd9_elix$Comorbidity %>% unique
elix9 <- elix9 %>% arrange(Comorbidity_abbr)
elix9$Comorbidity_abbr %>% unique
icd9_elix <- icd9_elix %>% arrange(Comorbidity)
icd9_elix$Comorbidity %>% unique
icd_charlson()
icd_charlson
load("~/emr/data/icd10_charlson.rda")
load("~/emr/data/icd9_charlson.rda")
View(icd9_charlson)
View(icd10_charlson)
setwd("~/emr")
devtools::document()
devtools::check()
devtools::document()
devtools::check()
PrICD10_sub5 <- substr(ccsPrICD10$ICD,start = 1,stop = 5) %>% unique
unique(PrICD10_sub5) %>% length
for (i in 1:length(PrICD10_sub5)){
test <- rbind(test,ccsPrICD10[grep(unique(PrICD10_sub5)[i],ccsPrICD10$ICD),c(1,2)])
}
View(test)
View(semi_elix10)
View(anti_elix10)
View(elix10)
View(anti_elix9)
View(elix9)
View(ccsPrICD10)
