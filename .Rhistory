message(paste0(data[a],",",data[b]))
b <- b+1
}
}
for(a in data){
b <- a+1
while(b<=length(data)){
message(paste0(data[a],",",data[b]))
b <- b+1
}
}
for(a in data){
b <- a+1
while(b<=data){
message(paste0(data[a],",",data[b]))
b <- b+1
}
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message(data[i] , ", ", data[j]);
}
}
for(i in 1:(length(data)-1)){
for(j in i+1:length(data)){
message(data[i] , ", ", data[j]);
}
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message(data[i] , ", ", data[j])
}
}
for(i in 1:(length(data)-1)){
for(j in i+1:length(data)){
message(data[i] , ", ", data[j])
}
}
for(j in (i+1):length(data)){
message(data[j])
}
for(i in 1:(length(data)-1)){
for(j in i+1:length(data)){
message("i = ",data[i])
message("j = ",data[j])
}
}
i <- 1
for(j in (i+1):length(data)){
message(data[j])
}
i <- 2
for(j in (i+1):length(data)){
message(data[j])
}
i <- 3
for(j in (i+1):length(data)){
message(data[j])
}
i <- 1
for(j in i+1:length(data)){
message(data[j])
}
for(i in 4:4)
for(i in 4:4){
message(i)
}
for(i in 5:4){
message(i)
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message("i = ",data[i])
message("j = ",data[j])
}
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message(data[i])
message(data[j])
}
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message(data[i] , ", ", data[j])
}
}
for(i in 1:(length(data)-1)){
for(j in (i+1):length(data)){
message(data[i] , ",", data[j])
}
}
data <- (1, 5, 10, 15, 20, 37)
data <- c(1, 5, 10, 15, 20, 37)
target <-  25
data <- c(1, 5, 10, 15, 20, 37)
target <-  25
for(a in data){
for(b in data){
if(data[a]+data[b] = target)
message(data[a],",",data[b])
}
}
data[a]
for(a in data){
for(b in data){
if(data[a]+data[b] = target){
message(data[a],",",data[b])
}
}
}
for(a in data){
for(b in data){
#if(data[a]+data[b] = target){
message(data[a],",",data[b])
#}
}
}
data <- c(1, 5, 10, 15, 20, 37)
target <-  25
for(a in data){
#for(b in data){
#if(data[a]+data[b] = target){
message(data[a],",")#,data[b])
#}
#}
}
for(a in 1:data){
#for(b in data){
#if(data[a]+data[b] = target){
message(data[a],",")#,data[b])
#}
#}
}
for(a in 1:length(data)){
#for(b in data){
#if(data[a]+data[b] = target){
message(data[a],",")#,data[b])
#}
#}
}
for(a in 1:length(data)){
for(b in data){
if(data[a]+data[b] = target){
message(data[a],",")#,data[b])
}
}
}
for(a in 1:length(data)){
for(b in data){
if(data[a]+data[b] = target){
message(data[a],",",data[b])
}
}
}
for(a in 1:length(data)){
for(b in  1:length(data)){
if(data[a]+data[b] = target){
message(data[a],",",data[b])
}
}
}
for(a in 1:length(data)){
for(b in  1:length(data)){
if(data[a]+data[b] == target){
message(data[a],",",data[b])
}
}
}
admission <- read.csv("~/newborn/ADMISSIONS.csv")
DIAGNOSIS_ICD <- read.csv("~/newborn/DIAGNOSES_ICD.csv")
library("data.table", lib.loc="~/R/win-library/3.4")
library("dplyr", lib.loc="~/R/win-library/3.4")
admission <- as.data.table(admission[,c(2,3,7,17)])
DIAGNOSIS_ICD <- as.data.table(DIAGNOSIS_ICD)
newborn_byA <- admission[grep("NEWBORN",admission$ADMISSION_TYPE),]
newborn_byA_ICD <- merge(DIAGNOSIS_ICD, newborn_byA, by = c("SUBJECT_ID","HADM_ID"), nomatch = T)
byA_PDA <- newborn_byA_ICD[grep("^7470$",newborn_byA_ICD$ICD9_CODE),]
byA_nonPDA <- newborn_byA_ICD[!byA_PDA, on = "ROW_ID"]
newborn_byD <- admission[grep("NEWBORN",admission$DIAGNOSIS),]
newborn_byD_ICD <- merge(DIAGNOSIS_ICD, newborn_byD, by = c("SUBJECT_ID","HADM_ID"), nomatch = T)
byD_PDA <- newborn_byD_ICD[grep("^7470$",newborn_byD_ICD$ICD9_CODE),]
byD_nonPDA <- newborn_byD_ICD[!byD_PDA, on = "ROW_ID"]
View(byA_PDA)
View(byA_nonPDA)
View(byA_nonPDA)
setwd("~/emr")
devtools::document()
devtools::check()
pkgdown::build_site()
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
IcdDxDecimalToShort<-function(DxDataFile, icdColName, dateColName, icd10usingDate){
DataCol <- c(deparse(substitute(icdColName)), deparse(substitute(dateColName)))
DxDataFile <- DxDataFile[,DataCol,with = FALSE]
names(DxDataFile) <- c("ICD", "Date")
DxDataFile[,"Date"] <- as.Date(DxDataFile[,Date])
DxDataFile[,Number:=1:nrow(DxDataFile)]
icd_Decimal <- DxDataFile[grepl("[.]",DxDataFile$ICD),]
icd9D <- merge(icd_Decimal[Date < icd10usingDate], ICD9DxwithTwoFormat, by.x = "ICD", by.y = "Decimal", all.x = T)
icd10D <- merge(icd_Decimal[Date >= icd10usingDate], ICD10DxwithTwoFormat, by.x = "ICD", by.y = "Decimal", all.x = T)
DtoSNA <- rbind(icd9D[is.na(Short),-"Short"], icd10D[is.na(Short),-"Short"])
if(!is.null(nrow(DtoSNA))){
icd9DNA <- merge(icd9D[is.na(Short),-"Short"],ICD10DxwithTwoFormat,by.x = "ICD",by.y = "Decimal",all.x = T)
icd10DNA <- merge(icd10D[is.na(Short),-"Short"],ICD9DxwithTwoFormat,by.x = "ICD",by.y = "Decimal",all.x = T)
icd9DwrongFormat <- icd9DNA[is.na(Short), list(count = .N),by = ICD]
icd10DwrongFormat <- icd10DNA[is.na(Short), list(count = .N),by = ICD]
if(!is.null(nrow(icd9DwrongFormat))){
wrongFormatMsg_D <- icd9DwrongFormat
wrongFormat_D <- icd9DNA[is.na(Short),-"Short"]
if(!is.null(nrow(icd10DwrongFormat))){
wrongFormatMsg_D <- rbind(wrongFormatMsg_D,icd10DwrongFormat)
wrongFormat_D <- rbind(wrongFormat_D, icd10DNA[is.na(Short),-"Short"])
}
}else if(!is.null(nrow(icd10DwrongFormat))){
wrongFormatMsg_D <- icd10DwrongFormat
wrongFormat_D <- icd10DNA[is.na(Short),-"Short"]
}else{
wrongFormatMsg_D <- NA
wrongFormat_D <- NA
}
icd9DWrongVer <- icd9DNA[!is.na(Short), list(count = .N),by = ICD]
icd10DWrongVer <- icd10DNA[!is.na(Short), list(count = .N),by = ICD]
if(!is.null(nrow(icd9DWrongVer))){
wrongVersionMsg_D <- icd9DWrongVer
wrongVersion_D <- icd9DNA[!is.na(Short),-"Short"]
if(!is.null(nrow(icd10DWrongVer))){
wrongVersionMsg_D <- rbind(wrongVersionMsg_D,icd10DWrongVer)
wrongVersion_D <- rbind(wrongVersion_D,icd10DNA[!is.na(Short),-"Short"])
}
}else if(!is.null(nrow(icd10DWrongVer))){
wrongVersionMsg_D <- icd10DWrongVer
wrongVersion_D <- icd10DNA[!is.na(Short),-"Short"]
}
}else{
wrongVersionMsg_D <-NA
wrongVersion_D <- NA
}
icd_Short <- DxDataFile[!icd_Decimal, on = "Number"]
icd9S <- merge(icd_Short[Date < icd10usingDate], ICD9DxwithTwoFormat, by.x = "ICD", by.y = "Short", all.x = T)
icd10S <- merge(icd_Short[Date >= icd10usingDate], ICD10DxwithTwoFormat, by.x = "ICD", by.y = "Short", all.x = T)
StoSNA <- rbind(icd9S[is.na(Decimal),-"Decimal"],icd10S[is.na(Decimal),-"Decimal"])
if(!is.null(nrow(StoSNA))){
icd9SNA <- merge(icd9S[is.na(Decimal),-"Decimal"], ICD10DxwithTwoFormat,by.x = "ICD",by.y = "Short",all.x = T)
icd10SNA <- merge(icd10S[is.na(Decimal),-"Decimal"], ICD9DxwithTwoFormat,by.x = "ICD",by.y = "Short",all.x = T)
icd9SwrongFormat <- icd9SNA[is.na(Decimal), list(count = .N),by = ICD]
icd10SwrongFormat <- icd10SNA[is.na(Decimal), list(count = .N),by = ICD]
if(!is.null(nrow(icd9SwrongFormat))){
wrongFormatMsg_S <- icd9SwrongFormat
wrongFormat_S <- icd9SNA[is.na(Decimal),-"Decimal"]
if(!is.null(nrow(icd10SwrongFormat))){
wrongFormatMsg_S<- rbind(wrongFormatMsg_S,icd10SwrongFormat)
wrongFormat_S <- rbind(wrongFormat_S,icd10SNA[is.na(Decimal),-"Decimal"])
}
}else if(!is.null(nrow(icd10SwrongFormat))){
wrongFormatMsg_S<- icd10SwrongFormat
wrongFormat_S <- icd10SNA[is.na(Decimal),-"Decimal"]
}else{
wrongFormatMsg_S<-NA
wrongFormat_S <- NA
}
icd9SWrongVer <- icd9SNA[!is.na(Decimal), list(count = .N),by = ICD]
icd10SWrongVer <- icd10SNA[!is.na(Decimal), list(count = .N),by = ICD]
if(!is.null(nrow(icd9SWrongVer))){
wrongVersionMsg_S <-icd9SWrongVer
wrongVersion_S <- icd9SNA[!is.na(Decimal),-"Decimal"]
if(!is.null(nrow(icd10SWrongVer))){
wrongVersionMsg_S <- rbind(wrongVersionMsg_S,icd10SWrongVer)
wrongVersion_S <- rbind(wrongVersion_S,icd10SNA[!is.na(Decimal),-"Decimal"])
}
}else if(!is.null(nrow(icd10SWrongVer))){
wrongVersionMsg_S <- icd10SWrongVer
wrongVersion_S <- icd10SNA[!is.na(Decimal),-"Decimal"]
}else{
wrongVersionMsg_S <-NA
wrongVersion_S <- NA
}
}
if(!is.null(nrow(wrongFormat_D))){
allWrongFormat <- wrongFormat_D
allWrongFormatMsg <- wrongFormatMsg_D[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
if(!is.null(nrow(wrongFormat_S))){
allWrongFormat <- rbind(allWrongFormat,wrongFormat_S)
wrongFormatMsg_S <- wrongFormatMsg_S[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
allWrongFormatMsg<- rbind(allWrongFormatMsg,wrongFormatMsg_S)
}
}else if(!is.null(nrow(wrongFormat_S))){
allWrongFormat <- wrongFormat_S
allWrongFormatMsg<- wrongFormatMsg_S[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
}else{
allWrongFormat <- NA
}
if(!is.null(nrow(wrongVersion_D))){
allWrongVersion <- wrongVersion_D
allWrongVersionMsg <- wrongVersionMsg_D[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
if(!is.null(nrow(wrongVersion_S))){
allWrongVersion <- rbind(allWrongVersion, wrongVersion_S)
wrongVersionMsg_S <- wrongVersionMsg_S[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
allWrongVersionMsg<- rbind(allWrongVersionMsg, wrongVersionMsg_S)
}
}else if(!is.null(nrow(wrongVersion_S))){
allWrongVersion <- wrongVersion_S
allWrongVersionMsg<- wrongVersionMsg_S[order(count,decreasing = T), list(wrongFormat= paste0(ICD," (",count,")","")),]
}else{
allWrongVersion <- NA
}
if(!is.null(nrow(allWrongFormat))){
allWrongICD <- allWrongFormat
if(!is.null(nrow(allWrongVersion))){
allWrongICD <- rbind(allWrongFormat,allWrongVersion)
}
}else if(!is.null(nrow(allWrongVersion))){
allWrongICD <- allWrongVersion
}else{
allWrongICD <- NA
}
icd9S[!is.na(Decimal),]
DtoS <- rbind(icd9D[!is.na(Short),-"ICD"], icd10D[!is.na(Short),-"ICD"])
setnames(DtoS,"Short","ICD")
StoS <- rbind(icd9S[!is.na(Decimal),-"Decimal"],icd10S[!is.na(Decimal),-"Decimal"])
allShortFormat <- rbind(StoS, DtoS)
if(nrow(allShortFormat) < nrow(DxDataFile)){
if(nrow(allWrongFormat)>0){
message(paste0("Wrong ICD format: total ",nrow(allWrongFormatMsg)," ICD codes (the number of occurrences is in brackets)"))
message(head(allWrongFormatMsg,10))
message(("\t"))
}
if(nrow(allWrongVersion)>0){
message(paste0("Wrong ICD version: total ",nrow(allWrongVersionMsg)," ICD codes (the number of occurrences is in brackets)"))
message(head(allWrongVersionMsg, 10))
message(("\t"))
}
warning('The ICD mentioned above matches to "NA" due to the format or other issues.', call. = F)
warning('"Wrong format" means the ICD has wrong format', call. = F)
warning('"Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)', call. = F)
combine_with_error <- rbind(allWrongICD, allShortFormat)[order(Number),-"Number"]
return(combine_with_error)
}else{
return(allShortFormat[order(Number),-"Number"])
}
}
load("~/emr/data/dxICD9.rda")
load("~/emr/data/dxICD10.rda")
View(dxICD9)
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
dxICD9$Date <- "2015/01/01"
IcdDxDecimalToShort(dxICD9,ICD,Date,"2015/10/01")$ICD
load("~/emr/data/ICD9DxwithTwoFormat.rda")
View(ICD9DxwithTwoFormat)
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD9DxwithTwoFormat$Date <- "2015/01/01"
IcdDxDecimalToShort(ICD9DxwithTwoFormat,ICD,Date,"2015/10/01")$ICD
setnames(ICD9DxwithTwoFormat,"Short","ICD")
IcdDxDecimalToShort(ICD9DxwithTwoFormat,ICD,Date,"2015/10/01")$ICD
load("~/emr/data/ICD9DxwithTwoFormat.rda")
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD9 <- ICD9DxwithTwoFormat
ICD9$Date <- "2015/01/01"
setnames(ICD9,"Short","ICD")
IcdDxDecimalToShort(ICD9,ICD,Date,"2015/10/01")$ICD
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD9 <- ICD9DxwithTwoFormat
ICD9$Date <- "2015/01/01"
setnames(ICD9,"Decimal","ICD")
IcdDxDecimalToShort(ICD9,ICD,Date,"2015/10/01")$ICD
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD10 <- ICD10DxwithTwoFormat
ICD10$Date <- "2015/10/01"
setnames(ICD10,"Decimal","ICD")
IcdDxDecimalToShort(ICD10,ICD,Date,"2015/10/01")$ICD
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD10 <- ICD10DxwithTwoFormat
ICD10$Date <- "2015/10/01"
setnames(ICD10,"Short","ICD")
IcdDxDecimalToShort(ICD10,ICD,Date,"2015/10/01")$ICD
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD10 <- ICD10DxwithTwoFormat
ICD10[nrow(ICD10)+1] <- c("12345","123.45")
View(ICD10)
ICD10[nrow(ICD10)+1]
ICD10[nrow(ICD10)+1,] <- c("12345","123.45")
View(ICD10)
ICD10[nrow(ICD10)] <- c("12345","123.45")
ICD10$Date <- "2015/10/01"
setnames(ICD10,"Short","ICD")
IcdDxDecimalToShort(ICD10,ICD,Date,"2015/10/01")$ICD
ICD10[nrow(ICD10)] <- c("42761","427.61")
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD10 <- ICD10DxwithTwoFormat
ICD10[nrow(ICD10)] <- c("42761","427.61")
View(ICD10)
ICD10[nrow(ICD10),] <- c("42761","427.61")
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
ICD10 <- ICD10DxwithTwoFormat
ICD10[1,] <- c("42761","427.61")
ICD10[1,] <- c("42761")
ICD10$Date <- "2015/10/01"
setnames(ICD10,"Short","ICD")
IcdDxDecimalToShort(ICD10,ICD,Date,"2015/10/01")$ICD
comorbidityTestingData <- readRDS("C:/Users/makiz/Desktop/comorbidityTestingData.rds")
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
name(comorbidityTestingData)
#' @param icd10usingDate icd 10 using date
#' @source \url{https://www.findacode.com/search/search.php}
#' @source \url{https://www.cms.gov/Medicare/Quality-Initiatives-Patient-Assessment-Instruments/HospitalQualityInits/Downloads/HospitalAppendix_F.pdf}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html}
#' @source \url{https://www.cms.gov/Medicare/Coding/ICD10/2019-ICD-10-CM.html}
#' @export
#' @examples
#' head(sampleDxFile)
#' sampleDxFile$Short <- IcdDxDecimalToShort(sampleDxFile,ICD,Date,"2015/10/01")$ICD
#'
names(comorbidityTestingData)
comorbidityTestingData$Short <- IcdDxDecimalToShort(comorbidityTestingData,ICD,Date,"2016/01/01")$ICD
