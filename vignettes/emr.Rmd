---
title: "Introduction to emr"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to emr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(emr)

DxDataFile <- data.frame(ID=c("A","A","B","B"),
                         ICD=c("40201","42577","I350","K289"),
                         Date=as.Date(c("2013-03-31","2013-01-29","2016-03-10","2016-03-10")),
                         stringsAsFactors = FALSE)
```

A tool of `Electric Medical Record` for grouping with ICD-9 and ICD-10 codes by `ccs, comorbidities and phecodes`, and calculating `condition era`. 

- Get the Clinical Classifications Software (CCS) categories and description for ICD-9 and ICD-10 codes on diagnoses
- Grouping comorbid method comorbidities (AHRQ, Charlson and Elixhauser Comorbidity) infers whether to use ICD-9 or ICD-10 codes
- Get the PheWAS Phecode or description of ICD-9 diagnosis codes
- Get the condition era

## emr Info

cat(utils::packageDescription("emr")$Description)

## Clinical Classifications Software (CCS)

## Single-level CCS categories and description for ICD-9 and ICD-10 codes on diagnoses.
```
```
## Multi-level CCS categories and description for ICD-9 and ICD-10 codes on diagnoses.
```
```
## Condition Era
Get the condition era
```
```
## Comorbidities
The comorbidities from different sources are provided as lists.

## AHRQ comorbidity classification
AHRQ comorbidity measure dataframe is based on `icd package`, the names of the comorbidities derived from ICD-9 and ICD-10 codes are the same.
The AHRQ comorbidity measure map format is dataframe;it is convert `icd9_map_ahrq` list into `icd9_ahrq` dataframe.The functions apply those mappings to join with user's ICD data.
```
#ahrq comorbidity measure
icd9_ahrq$Comorbidity %>% unique
icd10_ahrq$Comorbidity %>% unique

```
## Charlson comorbidity classification
Charlson comorbidity measure dataframe is based on `icd package`: icd9_map_charlson, icd10_map_charlson
```
#Charlson comorbidity measure
icd9_charlson$Comorbidity %>% unique
icd10_charlson$Comorbidity %>% unique

```
## Elixhauser comorbidity classification
Elixhauser comorbidity measure dataframe is based on `icd package`: icd9_map_elix, icd10_map_elix
```
#Elixhauser comorbidity measure
icd9_elix$Comorbidity %>% unique
icd10_elix$Comorbidity %>% unique

```
## Phecode
Get the PheWAS Phecode or description of ICD-9 diagnosis codes
```
```
## Examples
```
groupIcdBasedOnComorbid(DxDataFile, ID, ICD, Date, "2016-01-01", ahrq, N, TRUE)
```

