<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get the condition era — getConditionEra • emr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Get the condition era — getConditionEra" />

<meta property="og:description" content="A Condition Era is defined as a span of time when the member is assumed to have a given condition.
Condition Eras are periods of Condition Occurrence.
Combining individual Condition Occurrences into a single Condition Era based on ICD code in clinical diagnostic data.
Condition Eras are built with a Persistence Window,deafault is 30 days, meaning, if no occurence of the same member id happens within 30 days of any one occurrence, it will be considered the end date of the last condition occurrence." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">emr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/emr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ChineseVersion_Diagnosis.html">Get Started: Chinese Version-Diagnosis</a>
    </li>
    <li>
      <a href="../articles/ChineseVersion_Procedure.html">Get Started: Chinese Version-Procedure</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the condition era</h1>
    
    <div class="hidden name"><code>getConditionEra.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A Condition Era is defined as a span of time when the member is assumed to have a given condition.
Condition Eras are periods of Condition Occurrence.
Combining individual Condition Occurrences into a single Condition Era based on ICD code in clinical diagnostic data.
Condition Eras are built with a Persistence Window,deafault is 30 days, meaning, if no occurence of the same member id happens within 30 days of any one occurrence, it will be considered the end date of the last condition occurrence.</p>
    
    </div>

    <pre class="usage"><span class='fu'>getConditionEra</span>(<span class='no'>DxDataFile</span>, <span class='no'>idColName</span>, <span class='no'>icdColName</span>, <span class='no'>dateColName</span>,
  <span class='no'>icd10usingDate</span>, <span class='kw'>gapDate</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>conditionSelect</span> <span class='kw'>=</span> <span class='no'>CCS</span>,
  <span class='kw'>isDescription</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>CustomGroupingTable</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>DxDataFile</th>
      <td><p>A file of clinical diagnostic data with at least 3 columns: "MemberID","ICD", "Date"</p></td>
    </tr>
    <tr>
      <th>idColName</th>
      <td><p>A column for MemberID of DxDataFile</p></td>
    </tr>
    <tr>
      <th>icdColName</th>
      <td><p>A column for ICD of DxDataFile</p></td>
    </tr>
    <tr>
      <th>dateColName</th>
      <td><p>A column for Date of DxDataFile</p></td>
    </tr>
    <tr>
      <th>icd10usingDate</th>
      <td><p>Icd 10 using date</p></td>
    </tr>
    <tr>
      <th>gapDate</th>
      <td><p>Length of condition era, default is 30 days</p></td>
    </tr>
    <tr>
      <th>conditionSelect</th>
      <td><p>Four Stratified method can be chosen: CCS (or CCS levels), phecode (only for icd-9), comorbidities, grepICD or customICD , type `ccs`,`ccslvl1`,`ccslvl2`,`ccslvl3`,`ccslvl4`, `phecode`, `ahrq`, `charlson`, `elix` `customGrepIcdGroup`, or `customIcdGroup`, default is CCS</p></td>
    </tr>
    <tr>
      <th>isDescription</th>
      <td><p>CCS/Phecode categories or description for ICD-CM codes, default is True</p></td>
    </tr>
    <tr>
      <th>CustomGroupingTable</th>
      <td><p>Table is for groupedICDMethod:`grepICD` and `customGroup`</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>return DxDataFile with new column, condition era.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>head</span>(<span class='no'>sampleDxFile</span>)</div><div class='output co'>#&gt;    ID    ICD       Date
#&gt; 1:  C  553.3 2008-04-03
#&gt; 2:  A  553.3 2008-05-01
#&gt; 3:  A 553.20 2009-02-23
#&gt; 4:  B 553.20 2007-08-29
#&gt; 5:  A  553.3 2008-06-27
#&gt; 6:  B  K44.9 2019-11-10</div><div class='input'><span class='fu'>getConditionEra</span>(<span class='no'>sampleDxFile</span>, <span class='no'>ID</span>, <span class='no'>ICD</span>, <span class='no'>Date</span>, <span class='st'>"2015-10-01"</span>, <span class='fl'>30</span>, <span class='no'>ccs</span>, <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Wrong ICD format: total 1 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>123.45 (1)</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='message'>Wrong ICD version: total 4 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>c("A01.05 (1)", "E03.0 (1)", "A0105 (1)", "42761 (1)")</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='warning'>Warning: The ICD mentioned above matches to "NA" due to the format or other issues.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong format" means the ICD has wrong format</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)</span></div><div class='output co'>#&gt;     ID CCS_CATEGORY firstCaseDate endCaseDate count Era    period
#&gt;  1:  C          158    2007-04-21  2021-09-17    33  16 5263 days
#&gt;  2:  B          158    2007-05-28  2022-03-18    34  14 5408 days
#&gt;  3:  C          106    2007-06-20  2021-09-16    19  14 5202 days
#&gt;  4:  A          158    2007-05-12  2022-02-08    33  12 5386 days
#&gt;  5:  B          106    2007-07-16  2020-10-11    13  10 4836 days
#&gt;  6:  A          106    2007-07-27  2022-02-20    12   9 5322 days
#&gt;  7:  A          143    2008-05-01  2018-12-28     4   4 3893 days
#&gt;  8:  B          143    2007-08-29  2019-11-10     2   2 4456 days
#&gt;  9:  C          143    2008-04-03  2018-12-28     2   2 3921 days
#&gt; 10:  C          249    2008-03-30  2008-09-06     2   2  160 days
#&gt; 11:  A          125    2009-06-09  2009-06-09     1   1    0 days
#&gt; 12:  A          249    2008-05-03  2008-05-03     1   1    0 days
#&gt; 13:  A          259    2020-04-29  2020-04-29     1   1    0 days
#&gt; 14:  A         2620    2014-10-01  2014-10-01     1   1    0 days
#&gt; 15:  B          125    2008-04-29  2008-04-29     1   1    0 days
#&gt; 16:  B          249    2008-01-19  2008-01-19     1   1    0 days
#&gt; 17:  B           81    2021-06-24  2021-06-24     1   1    0 days
#&gt; 18:  C          151    2021-01-09  2021-01-09     1   1    0 days
#&gt; 19:  C           48    2015-10-01  2015-10-01     1   1    0 days
#&gt; 20:  C           58    2019-10-16  2019-10-16     1   1    0 days
#&gt; 21:  C           96    2007-12-12  2007-12-12     1   1    0 days
#&gt;     ID CCS_CATEGORY firstCaseDate endCaseDate count Era    period</div><div class='input'><span class='fu'>getConditionEra</span>(<span class='no'>sampleDxFile</span>, <span class='no'>ID</span>, <span class='no'>ICD</span>, <span class='no'>Date</span>, <span class='st'>"2015-10-01"</span>, <span class='fl'>30</span>, <span class='no'>ICD</span>)</div><div class='output co'>#&gt; <span class='message'>Wrong ICD format: total 1 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>123.45 (1)</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='message'>Wrong ICD version: total 4 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>c("A01.05 (1)", "E03.0 (1)", "A0105 (1)", "42761 (1)")</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='warning'>Warning: The ICD mentioned above matches to "NA" due to the format or other issues.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong format" means the ICD has wrong format</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)</span></div><div class='output co'>#&gt;     ID    ICD firstCaseDate endCaseDate count Era    period
#&gt;  1:  C V45.11    2007-04-21  2009-04-21    19  11  731 days
#&gt;  2:  B V45.11    2007-05-28  2009-03-05    20  10  647 days
#&gt;  3:  A V45.11    2007-05-30  2009-01-17    18   8  598 days
#&gt;  4:  A  585.9    2007-09-27  2008-11-04     6   5  404 days
#&gt;  5:  B 427.31    2007-07-16  2009-02-25     5   5  590 days
#&gt;  6:  C I48.91    2017-06-04  2020-08-24     5   5 1177 days
#&gt;  7:  A I48.91    2019-07-27  2021-12-13     5   4  870 days
#&gt;  8:  C 427.31    2007-06-20  2008-09-11     5   4  449 days
#&gt;  9:  B  585.6    2007-07-25  2008-04-28     3   3  278 days
#&gt; 10:  B I48.91    2019-07-06  2020-10-02     3   3  454 days
#&gt; 11:  B  N18.3    2019-03-11  2022-03-18     3   3 1103 days
#&gt; 12:  C  585.9    2007-08-28  2009-05-26     4   3  637 days
#&gt; 13:  A  427.1    2007-07-27  2008-12-27     2   2  519 days
#&gt; 14:  A  553.3    2008-05-01  2008-06-27     2   2   57 days
#&gt; 15:  B  585.9    2007-07-10  2009-03-04     2   2  603 days
#&gt; 16:  C  585.6    2008-01-28  2009-04-06     2   2  434 days
#&gt; 17:  C 785.52    2008-03-30  2008-09-06     2   2  160 days
#&gt; 18:  C  N18.2    2017-11-21  2019-03-07     2   2  471 days
#&gt; 19:  C  N18.3    2019-12-28  2020-05-10     2   2  134 days
#&gt; 20:  A 427.31    2007-09-19  2007-09-19     1   1    0 days
#&gt; 21:  A 427.61    2009-02-16  2009-02-16     1   1    0 days
#&gt; 22:  A  42761    2020-03-16  2020-03-16     1   1    0 days
#&gt; 23:  A  466.0    2009-06-09  2009-06-09     1   1    0 days
#&gt; 24:  A 553.20    2009-02-23  2009-02-23     1   1    0 days
#&gt; 25:  A  585.2    2007-08-08  2007-08-08     1   1    0 days
#&gt; 26:  A  585.3    2007-08-21  2007-08-28     2   1    7 days
#&gt; 27:  A  585.6    2009-04-26  2009-04-26     1   1    0 days
#&gt; 28:  A  785.1    2009-03-02  2009-03-02     2   1    0 days
#&gt; 29:  A 785.52    2008-05-03  2008-05-03     1   1    0 days
#&gt; 30:  A  A0105    2014-10-01  2014-10-01     1   1    0 days
#&gt; 31:  A   E030    2014-10-01  2014-10-01     1   1    0 days
#&gt; 32:  A  I47.2    2022-02-20  2022-02-20     1   1    0 days
#&gt; 33:  A  K44.9    2018-12-28  2018-12-28     1   1    0 days
#&gt; 34:  A  N18.2    2022-02-08  2022-02-08     1   1    0 days
#&gt; 35:  A  N18.3    2018-12-22  2018-12-22     1   1    0 days
#&gt; 36:  A  N18.6    2018-03-14  2018-03-14     1   1    0 days
#&gt; 37:  A  N18.9    2019-08-15  2019-08-15     1   1    0 days
#&gt; 38:  A  V56.0    2007-05-12  2007-05-12     1   1    0 days
#&gt; 39:  A  Z72.0    2020-04-29  2020-04-29     1   1    0 days
#&gt; 40:  B  466.0    2008-04-29  2008-04-29     1   1    0 days
#&gt; 41:  B 553.20    2007-08-29  2007-08-29     1   1    0 days
#&gt; 42:  B  585.3    2008-07-23  2008-07-23     1   1    0 days
#&gt; 43:  B  785.1    2008-04-07  2008-04-07     2   1    0 days
#&gt; 44:  B 785.52    2008-01-19  2008-01-19     1   1    0 days
#&gt; 45:  B A01.05    2014-10-01  2014-10-01     1   1    0 days
#&gt; 46:  B  E03.0    2014-10-01  2014-10-01     1   1    0 days
#&gt; 47:  B G25.81    2021-06-24  2021-06-24     1   1    0 days
#&gt; 48:  B  I48.0    2019-09-01  2019-09-01     1   1    0 days
#&gt; 49:  B  I48.2    2020-10-11  2020-10-11     1   1    0 days
#&gt; 50:  B  I49.5    2019-11-24  2019-11-24     1   1    0 days
#&gt; 51:  B  K44.9    2019-11-10  2019-11-10     1   1    0 days
#&gt; 52:  B  N18.2    2018-07-17  2018-07-17     1   1    0 days
#&gt; 53:  B  N18.9    2021-01-13  2021-01-13     1   1    0 days
#&gt; 54:  B  V56.0    2008-09-09  2008-09-09     1   1    0 days
#&gt; 55:  B  Z99.2    2022-02-03  2022-03-03     2   1   28 days
#&gt; 56:  C 123.45    2020-09-20  2020-09-20     1   1    0 days
#&gt; 57:  C  427.1    2008-03-01  2008-03-01     1   1    0 days
#&gt; 58:  C  427.2    2008-02-16  2008-02-16     1   1    0 days
#&gt; 59:  C 427.81    2009-02-08  2009-02-08     1   1    0 days
#&gt; 60:  C 427.89    2008-01-23  2008-01-23     1   1    0 days
#&gt; 61:  C  553.3    2008-04-03  2008-04-03     1   1    0 days
#&gt; 62:  C  585.3    2007-09-26  2007-09-26     1   1    0 days
#&gt; 63:  C  785.0    2008-12-31  2008-12-31     2   1    0 days
#&gt; 64:  C  785.2    2007-12-12  2007-12-12     1   1    0 days
#&gt; 65:  C   E030    2015-10-01  2015-10-01     1   1    0 days
#&gt; 66:  C  I48.0    2021-09-16  2021-09-16     1   1    0 days
#&gt; 67:  C  I48.2    2021-06-04  2021-06-04     1   1    0 days
#&gt; 68:  C  K44.9    2018-12-28  2018-12-28     1   1    0 days
#&gt; 69:  C K74.60    2021-01-09  2021-01-09     1   1    0 days
#&gt; 70:  C  R00.0    2019-02-02  2019-02-02     1   1    0 days
#&gt; 71:  C  V42.0    2008-08-26  2008-08-26     1   1    0 days
#&gt; 72:  C  V56.0    2008-09-24  2008-09-24     1   1    0 days
#&gt; 73:  C Z68.32    2019-10-16  2019-10-16     1   1    0 days
#&gt; 74:  C  Z99.2    2021-09-17  2021-09-17     1   1    0 days
#&gt;     ID    ICD firstCaseDate endCaseDate count Era    period</div><div class='input'><span class='fu'>getConditionEra</span>(<span class='no'>sampleDxFile</span>, <span class='no'>ID</span>, <span class='no'>ICD</span>, <span class='no'>Date</span>, <span class='st'>"2015-10-01"</span>, <span class='fl'>30</span>, <span class='no'>phecode</span>, <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Wrong ICD format: total 1 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>123.45 (1)</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='message'>Wrong ICD version: total 4 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>c("A01.05 (1)", "E03.0 (1)", "A0105 (1)", "42761 (1)")</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='warning'>Warning: The ICD mentioned above matches to "NA" due to the format or other issues.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong ICD format" means the ICD has wrong format</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)</span></div><div class='output co'>#&gt;     ID PheCode firstCaseDate endCaseDate count Era   period
#&gt;  1:  C  585.31    2007-04-21  2009-04-21    20  11 731 days
#&gt;  2:  B  585.31    2007-05-28  2009-03-05    21  10 647 days
#&gt;  3:  A  585.31    2007-05-12  2009-01-17    19   8 616 days
#&gt;  4:  A   585.3    2007-09-27  2008-11-04     6   5 404 days
#&gt;  5:  B  427.21    2007-07-16  2009-02-25     5   5 590 days
#&gt;  6:  C  427.21    2007-06-20  2008-09-11     5   4 449 days
#&gt;  7:  B  585.32    2007-07-25  2008-04-28     3   3 278 days
#&gt;  8:  C   585.3    2007-08-28  2009-05-26     4   3 637 days
#&gt;  9:  A  427.12    2007-07-27  2008-12-27     2   2 519 days
#&gt; 10:  A   550.2    2008-05-01  2008-06-27     2   2  57 days
#&gt; 11:  B   585.3    2007-07-10  2009-03-04     2   2 603 days
#&gt; 12:  C  585.32    2008-01-28  2009-04-06     2   2 434 days
#&gt; 13:  C  994.21    2008-03-30  2008-09-06     2   2 160 days
#&gt; 14:  A  427.21    2007-09-19  2007-09-19     1   1   0 days
#&gt; 15:  A  427.61    2009-02-16  2009-02-16     1   1   0 days
#&gt; 16:  A   427.9    2009-03-02  2009-03-02     2   1   0 days
#&gt; 17:  A     483    2009-06-09  2009-06-09     1   1   0 days
#&gt; 18:  A   550.5    2009-02-23  2009-02-23     1   1   0 days
#&gt; 19:  A  585.32    2009-04-26  2009-04-26     1   1   0 days
#&gt; 20:  A  585.33    2007-08-21  2007-08-28     2   1   7 days
#&gt; 21:  A   585.4    2007-08-08  2007-08-08     1   1   0 days
#&gt; 22:  A  994.21    2008-05-03  2008-05-03     1   1   0 days
#&gt; 23:  B   427.9    2008-04-07  2008-04-07     2   1   0 days
#&gt; 24:  B     483    2008-04-29  2008-04-29     1   1   0 days
#&gt; 25:  B   550.5    2007-08-29  2007-08-29     1   1   0 days
#&gt; 26:  B  585.33    2008-07-23  2008-07-23     1   1   0 days
#&gt; 27:  B  994.21    2008-01-19  2008-01-19     1   1   0 days
#&gt; 28:  C     396    2007-12-12  2007-12-12     1   1   0 days
#&gt; 29:  C   427.1    2008-02-16  2008-02-16     1   1   0 days
#&gt; 30:  C  427.12    2008-03-01  2008-03-01     1   1   0 days
#&gt; 31:  C   427.3    2008-01-23  2008-01-23     1   1   0 days
#&gt; 32:  C   427.7    2008-12-31  2008-12-31     2   1   0 days
#&gt; 33:  C   427.8    2009-02-08  2009-02-08     1   1   0 days
#&gt; 34:  C   550.2    2008-04-03  2008-04-03     1   1   0 days
#&gt; 35:  C  585.33    2007-09-26  2007-09-26     1   1   0 days
#&gt; 36:  C     587    2008-08-26  2008-08-26     1   1   0 days
#&gt;     ID PheCode firstCaseDate endCaseDate count Era   period</div><div class='input'><span class='fu'>getConditionEra</span>(<span class='no'>sampleDxFile</span>, <span class='no'>ID</span>, <span class='no'>ICD</span>, <span class='no'>Date</span>, <span class='st'>"2015-10-01"</span>, <span class='fl'>30</span>, <span class='no'>elix</span>)</div><div class='output co'>#&gt; <span class='message'>Wrong ICD format: total 1 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>123.45 (1)</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='message'>Wrong ICD version: total 4 ICD codes (the number of occurrences is in brackets)</span></div><div class='output co'>#&gt; <span class='message'>c("A01.05 (1)", "E03.0 (1)", "A0105 (1)", "42761 (1)")</span></div><div class='output co'>#&gt; <span class='message'>	</span></div><div class='output co'>#&gt; <span class='warning'>Warning: The ICD mentioned above matches to "NA" due to the format or other issues.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong format" means the ICD has wrong format</span></div><div class='output co'>#&gt; <span class='warning'>Warning: "Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)</span></div><div class='output co'>#&gt;     ID Comorbidity firstCaseDate endCaseDate count Era    period
#&gt;  1:  C    RENLFAIL    2007-04-21  2021-09-17    29  12 5263 days
#&gt;  2:  B    RENLFAIL    2007-05-28  2022-03-03    29  10 5393 days
#&gt;  3:  A    RENLFAIL    2007-05-12  2009-04-26    28   8  715 days
#&gt;  4:  B    PULMCIRC    2019-03-11  2022-03-18     4   4 1103 days
#&gt;  5:  A    PULMCIRC    2018-03-14  2019-08-15     3   3  519 days
#&gt;  6:  C    PULMCIRC    2019-12-28  2020-05-10     2   2  134 days
#&gt;  7:  B        METS    2021-06-24  2021-06-24     1   1    0 days
#&gt;  8:  C    HTNWOCHF    2015-10-01  2015-10-01     1   1    0 days
#&gt;  9:  C     HYPOTHY    2021-01-09  2021-01-09     1   1    0 days
#&gt; 10:  C       NEURO    2019-10-16  2019-10-16     1   1    0 days</div><div class='input'><span class='no'>grepTable</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>group</span> <span class='kw'>=</span> <span class='st'>"Cardiac dysrhythmias"</span>,
                        <span class='kw'>grepIcd</span> <span class='kw'>=</span> <span class='st'>"^427|^I48"</span>,
                        <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'>getConditionEra</span>(<span class='no'>sampleDxFile</span>, <span class='no'>ID</span>, <span class='no'>ICD</span>, <span class='no'>Date</span>, <span class='st'>"2015-10-01"</span>, <span class='fl'>30</span>, <span class='no'>customGrepIcdGroup</span>,
                <span class='kw'>CustomGroupingTable</span> <span class='kw'>=</span> <span class='no'>grepTable</span>)</div><div class='output co'>#&gt;    ID                group firstCaseDate endCaseDate count Era    period
#&gt; 1:  C Cardiac dysrhythmias    2007-06-20  2021-09-16    16  12 5202 days
#&gt; 2:  A Cardiac dysrhythmias    2007-07-27  2021-12-13    10   9 5253 days
#&gt; 3:  B Cardiac dysrhythmias    2007-07-16  2020-10-11    10   9 4836 days</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Yi-Ju Tseng, Hsiang-Ju Chiu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

